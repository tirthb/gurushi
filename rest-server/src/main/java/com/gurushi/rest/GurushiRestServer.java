package com.gurushi.rest;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.context.ApplicationContext;import com.gurushi.rest.util.ApplicationContextUtil;import com.gurushi.rest.util.SpringContext;import com.sun.grizzly.http.embed.GrizzlyWebServer;import com.sun.grizzly.http.servlet.ServletAdapter;import com.sun.jersey.spi.spring.container.servlet.SpringServlet;public class GurushiRestServer {	private static Logger logger = LoggerFactory.getLogger(GurushiRestServer.class);	public static void main(String args[]){		//TODO: Titu add property		String PORT = "8001";		String HOST = "localhost";		GrizzlyWebServer grizzlyServer = null;				try{			ServletAdapter jAdapter = new ServletAdapter();			jAdapter.setContextPath("/");			// For jersey + Spring			jAdapter.setServletInstance(new SpringServlet());			jAdapter.addInitParameter("com.sun.jersey.api.json.POJOMappingFeature", "true");			jAdapter.addContextParameter("contextConfigLocation", "classpath:META-INF/spring/application-context.xml");			jAdapter.addServletListener("org.springframework.web.context.ContextLoaderListener");			jAdapter.addServletListener("org.springframework.web.context.request.RequestContextListener");			grizzlyServer = new GrizzlyWebServer(Integer.parseInt(PORT),"",false);			grizzlyServer.setHost(HOST);			grizzlyServer.addGrizzlyAdapter(jAdapter, new String[] {"/"});						grizzlyServer.start();			// Get the Spring ApplicationContext and set in SpringUtil			ApplicationContext ctx = ApplicationContextUtil.getContext();			SpringContext.INSTANCE.set(ctx);			logger.info("Start running server :- host: " + HOST + ", port: " + PORT);						Thread.currentThread().join();					}catch(Exception e){			logger.error(e.getMessage(), e);		}finally {	        try {	        	grizzlyServer.stop();	        } catch (Exception e) {	            logger.error(e.getMessage(), e);	        }	    }	}}